<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Questionnaire interactif en jQuery</title>
	<link rel="stylesheet" type="text/css" href="style.css" />
      <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
      <script src="bootstrap/js/bootstrap.min.js"></script>

  <script type="text/javascript">
      function getScore(formulaire) 
      {
        var score = 0;
        var question = document.getElementsByTagName('FIELDSET');
        var nbQuestion = question.length;
        var i = 0;
        while(i < nbQuestion)
        {        
          var option = question[i].getElementsByTagName('INPUT');
          var nbOption = option.length;
          var j = 0;
          while (j < nbOption)
          {
            if((option[j].type == 'radio') && (option[j].checked))
              score += parseInt(option[j].value, 3);
            j ++;
          }          
          i ++ ;
        }
        document.getElementById('score').innerHTML = score;
      } 
    </script>

      <script>
          $(document).ready(function(){
              $("#hide").click(function(){
                  $(".fullscreen").hide();
              });
          });
      </script>

  </head>
  
  <body>
  <div class="fullscreen">
      <div class="container">
          <div class="row">
              <div class="col-md-12 text-head">
                <h1>Séléction du personnage</h1>
              </div>
          </div>
          <div class="row">
              <div class="col-md-4">
                  <img class="img-responsive" src="question.png" />
              </div>
              <div class="col-md-4">
                  <img class="img-responsive" src="mauvais.png" />
              </div>
              <div class="col-md-4">
                  <img class="img-responsive" src="bon.png" />
              </div>
              <button id="hide">Hide</button>
          </div>
      </div>
  </div>
    <form>
    <div class="question">
      <div class="texte">
       <fieldset id="Q1">
        <h2>Question 1</h2>
        <h4>En quelle année a été créé le CAC 40? </h4>
        <p id="r1"><input type="radio" value="-1" id="r1" name="q1">1946</p>
        <p id="r2"><input type="radio" value="-1" id="r2" name="q1">1979</p>
        <p id="r3"><input type="radio" value="1" id="r3" name="q1">1987</p>
        <p id="r4"><input type="radio" value="-1" id="r4" name="q1">2001</p>
        <br><span class="reponse" id="reponse1">Réponse 3 :Le CAC 40 (cotation assistée en continu) est le principal indice boursier de la Bourse de Paris. Créé avec 1 000 points de base au 31 décembre 1987 par la Compagnie des agents de change, l'indice CAC 40 est déterminé à partir des cours de quarante actions cotées en continu sur le premier marché parmi les cent sociétés dont les échanges sont les plus abondants sur Euronext Paris qui fait partie de Euronext, la première bourse européenne.</span>
         </fieldset>
      </div>  
      <img id="img1" src="question.png" />
      
    </div>


    </form>
    <button class="q1_50" onclick="aleatoire_01()">50/50</button>
   

  <form>
    <div class="question">
      <div class="texte">
       <fieldset id="Q2">
        <h2>Question 2</h2>
        <h4>Parmi ces marchés financiers, lequel n'existe pas?</h4>
           <p id="r5"><input type="radio" value="-1" id="r5" name="q2">Le marché primaire<br></p>
           <p id="r6"><input type="radio" value="-1" id="r6" name="q2">Le marché secondaire<br></p>
           <p id="r7"><input type="radio" value="-1" id="r7" name="q2">Le marché gris<br></p>
           <p id="r8"><input type="radio" value="1" id="r8" name="q2">Le marché noir<br></p>
        <br><span class="reponse" id="reponse2">Réponse 4 :Le marché noir n'existe pas en finance</span>
         </fieldset>
      </div>  
      <img id="img2" src="question.png" />
    </div>
      </form>
      <button class="q1_50" onclick="aleatoire_02()">50/50</button>

  <form>
    <div class="question">
      <div class="texte">
       <fieldset id="Q3">
        <h2>Question 3</h2>
        <h4>Parmi ces organismes, lequel est chargé de superviser les établissements de crédit et les entreprises d'investissement?</h4>
           <p id="r9"><input type="radio" value="-1" id="r9" name="q3">L'AMF<br></p>
           <p id="r10"><input type="radio" value="-1" id="r10" name="q3">Le Comité des établissements de crédit et des entreprises d'investissement<br></p>
           <p id="r11"><input type="radio" value="1" id="r11" name="q3">La commission bancaire<br></p>
           <p id="r12"><input type="radio" value="-1" id="r12" name="q3">L'ACAM<br></p>
        <br><span class="reponse" id="reponse3">Réponse 3 :L'Autorité des marchés financiers (AMF) est une autorité publique française indépendante créée en 2003, dotée de la personnalité morale et disposant d'une autonomie financière, qui a pour missions de veiller à la protection de l'épargne investie dans les instruments financiers, à l'information des investisseurs, au bon fonctionnement des marchés d'instruments financiers.
Elle apporte son concours à la régulation de ces marchés aux échelons européen et international.</span>
         </fieldset>
      </div>  
      <img id="img3" src="question.png" />
    </div>
      </form>
      <button class="q1_50" onclick="aleatoire_03()">50/50</button>

    <form>
    <div class="question">
      <div class="texte">
       <fieldset id="Q4">
        <h2>Question 4</h2>
        <h4>L’autofinancement est :</h4>
           <p id="r13"><input type="radio" value="-1" id="r13" name="q4">Une source externe de financement<br></p>
           <p id="r14"><input type="radio" value="-1" id="r14" name="q4">Un dividende versé<br></p>
           <p id="r15"><input type="radio" value="1" id="r15" name="q4">Un moyen dont dispose une entreprise pour se financer<br></p>
           <p id="r16"><input type="radio" value="-1" id="r16" name="q4">Le meilleur financement externe pour l'entreprise<br></p>
        <br><span class="reponse" id="reponse4">Réponse 3:L'autofinancement est la capacité de l'entreprise à financer son activité ainsi que ses investissements à l'aide de ses propres moyens financiers. C'est un mode de financement interne à l'entreprise, qui se compose essentiellement des amortissements comptables.</span>
         </fieldset>
      </div>  
      <img id="img4" src="question.png" />
    </div>
    </form>
    <button class="q1_50" onclick="aleatoire_04()">50/50</button>

	<center><button value="Score" name="startstop" onclick="getScore(this.form); chronoStart()" id="button_rep" class="btn">Réponses</button></center>
  <br>

  <center>Votre score est : <span id="score"></span><center>


    
    <script src="jquery.js"></script>
    <script>
      $(document).ready(function() {
        // Dissimulation des réponses
        $('.reponse').hide();
        
        // Mise en forme des div du QCM
        var q = $('.question');

        
        // Action au survol du lien « Tester les réponses »
        $('#button_rep').click(
          function() {
            $('.reponse').toggle(1000);
            if ($(':radio[id="r3"]:checked').val()) {
              $('#img1').attr('src', 'bon.png').addClass( "fadeIn" ); 
              $('#reponse1').css('color', 'green');
            }
            else {
              $('#img1').attr('src', 'mauvais.png').addClass( "fadeIn" );
              $('#reponse1').css('color', 'red');
            } 
			
			
            if ($(':radio[id="r8"]:checked').val()) {
              $('#img2').attr('src', 'bon.png').addClass( "fadeIn" );
              $('#reponse2').css('color', 'green');
            }
            else {
              $('#img2').attr('src', 'mauvais.png').addClass( "fadeIn" );
              $('#reponse2').css('color', 'red');
            } 
            
			
			if ($(':radio[id="r9"]:checked').val()) {
              $('#img3').attr('src', 'bon.png').addClass( "fadeIn" ); 
              $('#reponse3').css('color', 'green');
            }
            else {
              $('#img3').attr('src', 'mauvais.png').addClass( "fadeIn" );
              $('#reponse3').css('color', 'red');
            }
			
			
			if ($(':radio[id="r15"]:checked').val()) {
              $('#img4').attr('src', 'bon.png').addClass( "fadeIn" ); 
              $('#reponse4').css('color', 'green');
            }
            else {
              $('#img4').attr('src', 'mauvais.png').addClass( "fadeIn" );
              $('#reponse4').css('color', 'red');
            }
			

			
			if ($(':radio[id="r18"]:checked').val()) {
              $('#img6').attr('src', 'bon.png').addClass( "fadeIn" ); 
              $('#reponse6').css('color', 'green');
            }
            else {
              $('#img6').attr('src', 'mauvais.png').addClass( "fadeIn" );
              $('#reponse6').css('color', 'red');
            }
			
			if ($(':radio[id="r21"]:checked').val()) {
              $('#img7').attr('src', 'bon.png').addClass( "fadeIn" ); 
              $('#reponse7').css('color', 'green');
            }
            else {
              $('#img7').attr('src', 'mauvais.png').addClass( "fadeIn" );
              $('#reponse7').css('color', 'red');
            }
			
			
			if ($(':radio[id="r24"]:checked').val()) {
              $('#img8').attr('src', 'bon.png').addClass( "fadeIn" ); 
              $('#reponse8').css('color', 'green');
            }
            else {
              $('#img8').attr('src', 'mauvais.png').addClass( "fadeIn" );
              $('#reponse8').css('color', 'red');
            }
          }

        );  
      }); 
    </script>
      <script src="js/lib/jquery-backward-timer.min.js"></script>

      <div class='timer_block'>
          <div class='controls'>
              <a href="javascript:void(0)" class="start_btn" id='start_0'>Start</a>
              <a href="javascript:void(0)" class="cancel_btn" id='cancel_0'>Cancel</a>
              <a href="javascript:void(0)" class="reset_btn" id='reset_0'>Reset</a>
          </div>
          <span id='timer_0' class='timer'>value placeholder</span>

          <script type="text/javascript">
              $('#timer_0').backward_timer()

              $('#start_0').click(function() {
                  $('#timer_0').backward_timer('start')
              })
              $('#cancel_0').click(function() {
                  $('#timer_0').backward_timer('cancel')
              })
              $('#reset_0').click(function() {
                  $('#timer_0').backward_timer('reset')
              })
          </script>
      </div>
      <form name="chronoForm">
          <input type="text" name="chronotime" id="chronotime" value="0:00:00:00"/>
          <input type="button" name="reset" value="Reset" onClick="chronoReset()" />
          <input type="button" name="startstop" value="Demarrer" onClick="chronoStart()" />
          <script src="aleatoire.js"></script>
      </form>
      <script>
          var startTime = 0
          var start = 0
          var end = 0
          var diff = 0
          var timerID = 0
          window.onload = chronoStart;
          function chrono(){
              end = new Date()
              diff = end - start
              diff = new Date(diff)
              var msec = diff.getMilliseconds()
              var sec = diff.getSeconds()
              var min = diff.getMinutes()
              var hr = diff.getHours()-1
              if (min < 10){
                  min = "0" + min
              }
              if (sec < 10){
                  sec = "0" + sec
              }
              if(msec < 10){
                  msec = "00" +msec
              }
              else if(msec < 100){
                  msec = "0" +msec
              }
              document.getElementById("chronotime").value = hr + ":" + min + ":" + sec + ":" + msec
              timerID = setTimeout("chrono()", 10)
          }
          function chronoStart(){
              document.chronoForm.startstop.value = "Stop"
              document.chronoForm.startstop.onclick = chronoStop
              document.chronoForm.reset.onclick = chronoReset
              start = new Date()
              chrono()
          }
          function chronoContinue(){
              document.chronoForm.startstop.value = "Stop"
              document.chronoForm.reset.onclick = chronoReset
              document.chronoForm.startstop.onclick = chronoStop
              start = new Date()-diff
              start = new Date(start)
              chrono()
          }
          function chronoReset(){
              document.getElementById("chronotime").value = "0:00:00:000"
              start = new Date()
          }
          function chronoStopReset(){
              document.getElementById("chronotime").value = "0:00:00:000"
              document.chronoForm.startstop.onclick = chronoStart
          }
          function chronoStop(){
              document.chronoForm.startstop.value = "Demarrer"
              document.chronoForm.startstop.onclick = chronoContinue
              document.chronoForm.reset.onclick = chronoStopReset
              clearTimeout(timerID)
          }
      </script>
  </body>
</html>

